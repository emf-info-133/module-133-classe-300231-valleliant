{"ast":null,"code":"const API_URL=process.env.REACT_APP_API_URL||'http://localhost:8080/api';export const loginUser=async(email,password)=>{try{const response=await fetch(`${API_URL}/users/login`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,password})});if(!response.ok){const error=await response.json();throw new Error(error.message||'Échec de la connexion');}return await response.json();}catch(error){throw error;}};export const registerUser=async(name,email,password)=>{try{const response=await fetch(`${API_URL}/users`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name,email,password})});if(!response.ok){const error=await response.json();throw new Error(error.message||'Échec de l\\'inscription');}return await response.json();}catch(error){throw error;}};export const getUser=async token=>{try{const response=await fetch(`${API_URL}/users/me`,{headers:{'Authorization':`Bearer ${token}`}});if(!response.ok){throw new Error('Session expirée');}return await response.json();}catch(error){throw error;}};","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","loginUser","email","password","response","fetch","method","headers","body","JSON","stringify","ok","error","json","Error","message","registerUser","name","getUser","token"],"sources":["/root/projet/module-133-classe-300231-valleliant/projet/client1/src/services/authService.js"],"sourcesContent":["const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080/api';\n\nexport const loginUser = async (email, password) => {\n  try {\n    const response = await fetch(`${API_URL}/users/login`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email, password }),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || 'Échec de la connexion');\n    }\n\n    return await response.json();\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const registerUser = async (name, email, password) => {\n  try {\n    const response = await fetch(`${API_URL}/users`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ name, email, password }),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || 'Échec de l\\'inscription');\n    }\n\n    return await response.json();\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const getUser = async (token) => {\n  try {\n    const response = await fetch(`${API_URL}/users/me`, {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n    });\n\n    if (!response.ok) {\n      throw new Error('Session expirée');\n    }\n\n    return await response.json();\n  } catch (error) {\n    throw error;\n  }\n}; "],"mappings":"AAAA,KAAM,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,2BAA2B,CAE5E,MAAO,MAAM,CAAAC,SAAS,CAAG,KAAAA,CAAOC,KAAK,CAAEC,QAAQ,GAAK,CAClD,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGR,OAAO,cAAc,CAAE,CACrDS,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAER,KAAK,CAAEC,QAAS,CAAC,CAC1C,CAAC,CAAC,CAEF,GAAI,CAACC,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,CAAAC,KAAK,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CACnC,KAAM,IAAI,CAAAC,KAAK,CAACF,KAAK,CAACG,OAAO,EAAI,uBAAuB,CAAC,CAC3D,CAEA,MAAO,MAAM,CAAAX,QAAQ,CAACS,IAAI,CAAC,CAAC,CAC9B,CAAE,MAAOD,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAI,YAAY,CAAG,KAAAA,CAAOC,IAAI,CAAEf,KAAK,CAAEC,QAAQ,GAAK,CAC3D,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGR,OAAO,QAAQ,CAAE,CAC/CS,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEO,IAAI,CAAEf,KAAK,CAAEC,QAAS,CAAC,CAChD,CAAC,CAAC,CAEF,GAAI,CAACC,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,CAAAC,KAAK,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CACnC,KAAM,IAAI,CAAAC,KAAK,CAACF,KAAK,CAACG,OAAO,EAAI,yBAAyB,CAAC,CAC7D,CAEA,MAAO,MAAM,CAAAX,QAAQ,CAACS,IAAI,CAAC,CAAC,CAC9B,CAAE,MAAOD,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAM,OAAO,CAAG,KAAO,CAAAC,KAAK,EAAK,CACtC,GAAI,CACF,KAAM,CAAAf,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGR,OAAO,WAAW,CAAE,CAClDU,OAAO,CAAE,CACP,eAAe,CAAE,UAAUY,KAAK,EAClC,CACF,CAAC,CAAC,CAEF,GAAI,CAACf,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAG,KAAK,CAAC,iBAAiB,CAAC,CACpC,CAEA,MAAO,MAAM,CAAAV,QAAQ,CAACS,IAAI,CAAC,CAAC,CAC9B,CAAE,MAAOD,KAAK,CAAE,CACd,KAAM,CAAAA,KAAK,CACb,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}